(this.webpackJsonpnotemacher=this.webpackJsonpnotemacher||[]).push([[0],{196:function(t,e,n){},197:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n(4),r=n.n(i),a=n(50),o=n.n(a),s=n(51),l=n(21),d=n.n(l),u=n(39),h=n(15),j=n(90),b=n(91),O=n(93),f=n(92),p=function(t){var e=t.id,n=t.title,i=t.author,r=t.editor,a=t.dateCreation,o=t.dateEdit,s=t.content,l=t.open,d=t.deleteIt;return Object(c.jsxs)("div",{className:"noteItem",children:[Object(c.jsxs)("h4",{children:[n,"--",e,Object(c.jsxs)("span",{children:[Object(c.jsx)("button",{onClick:function(){return l(e)},children:"edit"}),Object(c.jsx)("button",{onClick:function(t){return d(e)},children:"delete"})]})]}),Object(c.jsxs)("p",{className:"noteInfo",children:[Object(c.jsxs)("span",{children:["Created: ",a," by ",i]})," | ",Object(c.jsx)("span",{children:o?"Last edit: ".concat(o," by: ").concat(r," "):"unedited"})]}),Object(c.jsx)("p",{children:s})]},e)},x=n(22),m=n(5),v=n(20),S=(n(195),function(t){var e,n,r=t.addFunction,a=t.changeFunction,o=t.edit,s=t.close,l=t.id;t.stateContentVal;if(o)for(var d=0;d<m.length;d++)m[d].id===l&&(e=m[d].title,n=m[d].content);else e="",n="";var u=Object(i.useState)((function(){return v.EditorState.createWithContent(v.ContentState.createFromText(n))})),h=Object(x.a)(u,2),j=h[0],b=h[1],O=Object(i.useState)(e),f=Object(x.a)(O,2),p=f[0],S=f[1],g=Object(i.useState)(n),C=Object(x.a)(g,2),w=C[0],E=C[1],N=function(t,e){a(t,e,p,w),s()},k=function(t,e){o?(N(t,l),b(e)):(r(t,e),S(""),E(""),b((function(){return v.EditorState.createEmpty()})))},F=function(t){var e=Object(v.convertToRaw)(t.getCurrentContent());b(t),function(t){window.localStorage.setItem("content",JSON.stringify(t))}(e),function(t,e){var n=t.blocks[0].text;E(n),b(e)}(e,t)};return Object(c.jsxs)("form",{className:"form",autoComplete:"off",onSubmit:function(t){return k(t,w)},children:[Object(c.jsx)("label",{htmlFor:"title",children:o?"Title of [ "+l+" ]":"Title"}),Object(c.jsx)("input",{type:"text",name:"title",id:"title",onChange:function(t){S(t.target.value)},value:p,required:!0}),Object(c.jsx)("label",{htmlFor:"content",children:"Text"}),Object(c.jsx)(v.Editor,{editorState:j,onChange:F,handleKeyCommand:function(t){var e=v.RichUtils.handleKeyCommand(j,t);return e?(F(e),"handled"):"not-handled"}}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{type:"submit",children:o?"SAVE":"ADD"}),Object(c.jsxs)("h4",{children:["Result of ",o?"edit":"add"]}),Object(c.jsxs)("p",{children:["Title: ",p]}),Object(c.jsxs)("p",{children:["Content: ",w]})]})]})}),g=function(t){var e=t.searchFunction;return Object(c.jsxs)("div",{className:"search",children:[Object(c.jsx)("input",{type:"text",name:"notes",onChange:function(t){var n=m.filter((function(e){return e.title.toLowerCase().includes(t.target.value.toLowerCase())||e.content.toLowerCase().includes(t.target.value.toLowerCase())}));e(n)}}),Object(c.jsx)("h3",{children:"type to search"})]})},C=(n(196),function(){var t=Object(i.useState)(""),e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(i.useEffect)((function(){(function(){var t=Object(u.a)(d.a.mark((function t(){var e,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=51.1&lon=17.0");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,r(n.properties.timeseries[0].data.instant.details.air_temperature);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(c.jsxs)("p",{children:["(function component with hooks useState and useEffect) Fetched from Meteorologisk institutt: ",Object(c.jsxs)("strong",{children:["temperature in Wroc\u0142aw ",n,"\xb0C"]})]})}),w=function(t){Object(O.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={notesJSON:Object(h.a)(m),isEditOpen:!1,id:"",nbpdata:null,euro:null,dollar:null,ratio:null,temperatureInWroclaw:null,stateContentVal:null},t.addItem=function(e,n){e.preventDefault();var c=(new Date).toISOString().slice(0,10),i=(new Date).toLocaleTimeString("pl-PL").slice(0,5),r="".concat(c," - ").concat(i),a={id:String(e.target[0].value.concat(m.length+1)),dateCreation:r,title:e.target[0].value,content:n,author:e.target[0].author||"anon"};t.setState((function(t){return{notesJSON:[].concat(Object(h.a)(t.notesJSON),[a])}})),m.push(a),e.target.reset()},t.removeItem=function(e){for(var n=0;n<m.length;n++)m[n].id===e&&m.splice(n,1);t.setState({notesJSON:Object(h.a)(m)})},t.editItem=function(e,n,c,i){e.preventDefault();for(var r=(new Date).toISOString().slice(0,10),a=(new Date).toLocaleTimeString("pl-PL").slice(0,5),o="".concat(r," - ").concat(a),s=0;s<m.length;s++)m[s].id===n&&(m[s].dateEdit=o,m[s].title=c,m[s].content=i,m[s].editor=e.target[0].editor||"anon");t.setState({notesJSON:Object(h.a)(m)})},t.openEdit=function(e){var n=t.state.notesJSON.filter((function(t){return t.id===e}))[0].content;t.setState({isEditOpen:!0,id:e,stateContentVal:n})},t.closeEdit=function(){t.setState({isEditOpen:!1})},t.searchFunction=function(e){t.setState({notesJSON:e})},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(d.a.mark((function t(){var e,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.nbp.pl/api/exchangerates/tables/a");case 2:return e=t.sent,t.next=5,e.json();case 5:if(n=t.sent,e.ok){t.next=9;break}throw c="An error has occured: ".concat(e.status),new Error(c);case 9:this.setState({nbpdata:Object(h.a)(n),euro:Object(h.a)(n)[0].rates[7].mid,dollar:Object(h.a)(n)[0].rates[1].mid});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.isEditOpen;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("header",{children:[Object(c.jsx)("h2",{children:"_notemacher"}),Object(c.jsx)("nav",{className:"navgh",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://tdudkowski.github.io/",children:"[ to Github Page ]"})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://github.com/tdudkowski/notemacher",children:"[ repo of _notemacher ]"})})]})}),Object(c.jsx)(g,{restoreFunction:this.restoreFunction,searchFunction:this.searchFunction})]}),Object(c.jsxs)("main",{children:[Object(c.jsxs)("article",{className:"listNotes",children:[Object(c.jsx)("h3",{children:"Notes"}),Object(c.jsx)("hr",{}),this.state.notesJSON.map((function(e){return Object(c.jsx)(p,Object(s.a)(Object(s.a)({},e),{},{open:t.openEdit,deleteIt:t.removeItem}),e.id)})),Object(c.jsx)("hr",{})]}),e&&Object(c.jsxs)("div",{className:"edit",children:[Object(c.jsxs)("header",{children:[Object(c.jsxs)("h3",{children:["Edit - note id: ",this.state.id]}),Object(c.jsx)("button",{onClick:this.closeEdit,children:"CLOSE"})]}),Object(c.jsx)(S,{edit:!0,id:this.state.id,changeFunction:this.editItem,array:this.state.notesJSON,stateContentVal:this.state.stateContentVal,close:this.closeEdit})]}),Object(c.jsx)("aside",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Add a note"}),Object(c.jsx)(S,{addFunction:this.addItem})]})})]}),Object(c.jsxs)("footer",{children:[Object(c.jsx)("p",{children:"_notemacher: React 17 + hooks + Draft.js + fetch (dirty edition, but it works)"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["(state component) Fetched from NBP API: ",Object(c.jsxs)("strong",{children:["Euro: ",this.state.euro,"; US Dollar: ",this.state.dollar]})]}),Object(c.jsx)("li",{children:Object(c.jsx)(C,{})})]})]})]})}}]),n}(r.a.Component),E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,198)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),r(t),a(t)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),E()},5:function(t){t.exports=JSON.parse('[{"id":"1","author":"admin","dateCreation":"2020-11-25 - 21:37","editor":"admin","dateEdit":"2020-11-20 - 21:37","title":"first title JSON","content":"first content"},{"id":"2","author":"admin","dateCreation":"2020-11-25 - 21:37","editor":null,"dateEdit":null,"title":"JSON second title","content":"second content"},{"id":"3","author":"admin","dateCreation":"2020-11-25 - 21:37","editor":null,"dateEdit":null,"title":"JSON third title","content":"third content"}]')}},[[197,1,2]]]);
//# sourceMappingURL=main.3ff30ec9.chunk.js.map