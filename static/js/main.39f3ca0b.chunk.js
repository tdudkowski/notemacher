(this.webpackJsonpnotemacher=this.webpackJsonpnotemacher||[]).push([[0],{1:function(t){t.exports=JSON.parse('[{"id":"1","author":"admin","dateCreation":"2020-11-25","dateEdit":"2020-11-20","title":"first title JSON","content":"first content"},{"id":"2","author":"admin","dateCreation":"2020-11-25","dateEdit":null,"title":"JSON second title","content":"second content"},{"id":"3","author":"admin","dateCreation":"2020-11-25","dateEdit":null,"title":"JSON third title","content":"third content"}]')},22:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n(2),r=n.n(i),a=n(10),s=n.n(a),o=n(9),d=n(7),l=n.n(d),u=n(11),h=n(3),j=n(12),b=n(13),O=n(15),p=n(14),x=function(t){var e=t.id,n=t.title,i=t.author,r=t.dateCreation,a=t.dateEdit,s=t.content,o=t.open,d=t.deleteIt;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("h4",{children:[n,"--",e,Object(c.jsxs)("span",{children:[Object(c.jsx)("button",{onClick:function(){return o(e)},children:"edit"}),Object(c.jsx)("button",{onClick:function(t){return d(e)},children:"delete"})]})]}),Object(c.jsxs)("p",{className:"noteInfo",children:["Created by: ",i," | Creation: ",r," | ",a?"Last edit: ".concat(a):"unedited"]}),Object(c.jsx)("p",{children:s})]},e)},f=n(8),m=n(1),v=function(t){var e,n,r=t.addFunction,a=t.changeFunction,s=t.edit,o=t.close,d=t.id;if(s)for(var l=0;l<m.length;l++)m[l].id===d&&(e=m[l].title,n=m[l].content);else e="",n="";var u=Object(i.useState)(e),h=Object(f.a)(u,2),j=h[0],b=h[1],O=Object(i.useState)(n),p=Object(f.a)(O,2),x=p[0],v=p[1],g=function(t){s?function(t,e){a(t,e,j,x),o()}(t,d):r(t),b(""),v("")};return Object(c.jsxs)("form",{className:"form",autoComplete:"off",onSubmit:function(t){return g(t)},children:[Object(c.jsx)("label",{htmlFor:"title",children:s?"Title of [ "+d+" ]":"Title"}),Object(c.jsx)("input",{type:"text",name:"title",id:"title",onChange:function(t){b(t.target.value)},value:j,required:!0}),Object(c.jsx)("label",{htmlFor:"content",children:"Text"}),Object(c.jsx)("textarea",{type:"text",name:"content",id:"content",value:x,onChange:function(t){v(t.target.value)},required:!0}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{type:"submit",children:s?"SAVE":"ADD"}),Object(c.jsxs)("h4",{children:["Result of ",s?"edit":"add"]}),Object(c.jsxs)("p",{children:["Title: ",j]}),Object(c.jsxs)("p",{children:["Content: ",x]})]})]})},g=function(t){var e=t.changeFunction,n=t.close,i=t.id;return Object(c.jsxs)("div",{className:"edit",children:[Object(c.jsxs)("header",{children:[Object(c.jsxs)("h3",{children:["Edit - note id: ",i]}),Object(c.jsx)("button",{onClick:n,children:"CLOSE"})]}),Object(c.jsx)(v,{edit:!0,id:i,changeFunction:e,close:n})]})},S=function(t){var e=t.searchFunction;return Object(c.jsxs)("div",{className:"search",children:[Object(c.jsx)("input",{type:"text",name:"notes",onChange:function(t){var n=m.filter((function(e){return e.title.toLowerCase().includes(t.target.value.toLowerCase())||e.content.toLowerCase().includes(t.target.value.toLowerCase())}));e(n)}}),Object(c.jsx)("h3",{children:"type to search"})]})},C=(n(22),function(t){Object(O.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(j.a)(this,n);for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={notesJSON:Object(h.a)(m),isEditOpen:!1,id:"",nbpdata:null,euro:null,dollar:null,ratio:null,temperatureInWroclaw:null},t.addItem=function(e){e.preventDefault();var n=(new Date).toISOString().slice(0,10),c={id:String(e.target[0].value.concat(m.length+1)),dateCreation:n,title:e.target[0].value,content:e.target[1].value,author:"admin"};t.setState((function(t){return{notesJSON:[].concat(Object(h.a)(t.notesJSON),[c])}})),m.push(c),e.target.reset()},t.removeItem=function(e){for(var n=0;n<m.length;n++)m[n].id===e&&m.splice(n,1);t.setState({notesJSON:Object(h.a)(m)})},t.editItem=function(e,n,c,i){e.preventDefault();for(var r=(new Date).toISOString().slice(0,10),a=0;a<m.length;a++)m[a].id===n&&(m[a].dateEdit=r,m[a].title=c,m[a].content=i);t.setState({notesJSON:Object(h.a)(m)}),e.target.reset()},t.closeEdit=function(){t.setState({isEditOpen:!1})},t.openEdit=function(e){t.setState({isEditOpen:!0,id:e})},t.searchFunction=function(e){t.setState({notesJSON:e})},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e,n,c,i,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://api.nbp.pl/api/exchangerates/tables/a");case 2:return e=t.sent,t.next=5,fetch("https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=51.1&lon=17.0");case 5:return n=t.sent,t.next=8,e.json();case 8:return c=t.sent,t.next=11,n.json();case 11:if(i=t.sent,e.ok){t.next=15;break}throw r="An error has occured: ".concat(e.status),new Error(r);case 15:this.setState({nbpdata:Object(h.a)(c),euro:Object(h.a)(c)[0].rates[7].mid,dollar:Object(h.a)(c)[0].rates[1].mid,temperatureInWroclaw:i.properties.timeseries[0].data.instant.details.air_temperature});case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.isEditOpen;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("header",{children:[Object(c.jsx)("h2",{children:"_notemacher"}),Object(c.jsx)("nav",{className:"navgh",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://tdudkowski.github.io/",children:"[ to Github Page ]"})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://github.com/tdudkowski/notemacher",children:"[ repo of _notemacher ]"})})]})}),Object(c.jsx)(S,{restoreFunction:this.restoreFunction,searchFunction:this.searchFunction})]}),Object(c.jsxs)("main",{children:[Object(c.jsxs)("article",{className:"listNotes",children:[Object(c.jsx)("h3",{children:"Notes"}),Object(c.jsx)("hr",{}),this.state.notesJSON.map((function(e){return Object(c.jsx)(x,Object(o.a)(Object(o.a)({},e),{},{open:t.openEdit,deleteIt:t.removeItem}),e.id)})),Object(c.jsx)("hr",{})]}),e&&Object(c.jsx)(g,{close:this.closeEdit,id:this.state.id,changeFunction:this.editItem,edit:!0}),Object(c.jsx)("aside",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Add a note"}),Object(c.jsx)(v,{addFunction:this.addItem})]})})]}),Object(c.jsxs)("footer",{children:[Object(c.jsx)("p",{children:"_notemacher: React 17 + hooks"}),Object(c.jsx)("hr",{}),Object(c.jsxs)("p",{children:["Fetched from NBP API: Euro: ",this.state.euro,"; US Dollar: ",this.state.dollar," | Fetched from Meteorologisk institutt: temperature in Wroc\u0142aw ",this.state.temperatureInWroclaw,"\xb0C"]})]})]})}}]),n}(r.a.Component)),F=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),r(t),a(t)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),F()}},[[23,1,2]]]);
//# sourceMappingURL=main.39f3ca0b.chunk.js.map